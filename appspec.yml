version: 0.0
os: linux
files:
  - source: target/*.jar
    destination: /home/ec2-user/simple-java-maven-app

hooks:
  ApplicationStart:
    - location: "java -jar /home/ec2-user/*.jar --server.port=8081"
      timeout: 300
      runas: root

  ValidateService:
    - location: "curl localhost:8081"
      timeout: 300
      runas: root
